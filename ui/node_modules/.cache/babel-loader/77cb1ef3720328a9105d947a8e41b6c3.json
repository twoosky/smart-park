{"ast":null,"code":"var _jsxFileName = \"/home/haneul/toiot_copy/toiot-1/ui/src/ManagementComponents/LatLngPicker.tsx\";\nimport React, { Component } from 'react';\n\nclass LarLngPicker extends Component {\n  componentDidMount() {\n    var mapContainer = document.getElementById('map'); // 지도를 표시할 div\n\n    var mapOption = {\n      center: new window.kakao.maps.LatLng(37.49575158172499, 126.95633291769067),\n      // 지도의 중심좌표\n      level: 3 // 지도의 확대 레벨\n\n    }; // 지도를 생성합니다\n\n    var map = new window.kakao.maps.Map(mapContainer, mapOption); // 지도를 클릭한 위치에 표출할 마커입니다\n\n    var marker = new window.kakao.maps.Marker({\n      // 지도 중심좌표에 마커를 생성합니다\n      position: map.getCenter()\n    }); // 지도에 마커를 표시합니다\n\n    marker.setMap(map); // 지도에 클릭 이벤트를 등록합니다\n    // 지도를 클릭하면 마지막 파라미터로 넘어온 함수를 호출합니다\n\n    window.kakao.maps.event.addListener(map, 'click', mouseEvent => {\n      // 클릭한 위도, 경도 정보를 가져옵니다\n      var latlng = mouseEvent.latLng; // 마커 위치를 클릭한 위치로 옮깁니다\n\n      marker.setPosition(latlng); // re layout map (bug)\n\n      map.relayout(); // loc : save latitude and longitude which user pick\n\n      var loc = {\n        lat: latlng.getLat(),\n        lng: latlng.getLng()\n      }; // send loc to parent component( RegisterNode )\n\n      this.props.handleLarLngChange(loc);\n      var message = 'latitude : ' + latlng.getLat() + ', ';\n      message += 'longitude : ' + latlng.getLng() + '\\n';\n      var resultDiv = document.getElementById('clickLatlng');\n      resultDiv.innerHTML = message;\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"map\",\n      style: {\n        position: 'relative',\n        width: '100%',\n        height: '350px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"em\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 6\n      }\n    }, \"Click map!\")), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"clickLatlng\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 5\n      }\n    }));\n  }\n\n}\n\nexport default LarLngPicker;","map":{"version":3,"sources":["/home/haneul/toiot_copy/toiot-1/ui/src/ManagementComponents/LatLngPicker.tsx"],"names":["React","Component","LarLngPicker","componentDidMount","mapContainer","document","getElementById","mapOption","center","window","kakao","maps","LatLng","level","map","Map","marker","Marker","position","getCenter","setMap","event","addListener","mouseEvent","latlng","latLng","setPosition","relayout","loc","lat","getLat","lng","getLng","props","handleLarLngChange","message","resultDiv","innerHTML","render","width","height"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;;AAcA,MAAMC,YAAN,SAA2BD,SAA3B,CAA4D;AAC3DE,EAAAA,iBAAiB,GAAG;AACnB,QAAIC,YAAY,GAAGC,QAAQ,CAACC,cAAT,CAAwB,KAAxB,CAAnB,CADmB,CACgC;;AACnD,QAAIC,SAAS,GAAG;AACfC,MAAAA,MAAM,EAAE,IAAIC,MAAM,CAACC,KAAP,CAAaC,IAAb,CAAkBC,MAAtB,CACP,iBADO,EAEP,kBAFO,CADO;AAIZ;AACHC,MAAAA,KAAK,EAAE,CALQ,CAKL;;AALK,KAAhB,CAFmB,CAUnB;;AACA,QAAIC,GAAG,GAAG,IAAIL,MAAM,CAACC,KAAP,CAAaC,IAAb,CAAkBI,GAAtB,CAA0BX,YAA1B,EAAwCG,SAAxC,CAAV,CAXmB,CAanB;;AACA,QAAIS,MAAM,GAAG,IAAIP,MAAM,CAACC,KAAP,CAAaC,IAAb,CAAkBM,MAAtB,CAA6B;AACzC;AACAC,MAAAA,QAAQ,EAAEJ,GAAG,CAACK,SAAJ;AAF+B,KAA7B,CAAb,CAdmB,CAmBnB;;AACAH,IAAAA,MAAM,CAACI,MAAP,CAAcN,GAAd,EApBmB,CAsBnB;AACA;;AACAL,IAAAA,MAAM,CAACC,KAAP,CAAaC,IAAb,CAAkBU,KAAlB,CAAwBC,WAAxB,CAAoCR,GAApC,EAAyC,OAAzC,EAAmDS,UAAD,IAAqB;AACtE;AACA,UAAIC,MAAM,GAAGD,UAAU,CAACE,MAAxB,CAFsE,CAItE;;AACAT,MAAAA,MAAM,CAACU,WAAP,CAAmBF,MAAnB,EALsE,CAOtE;;AACAV,MAAAA,GAAG,CAACa,QAAJ,GARsE,CAUtE;;AACA,UAAIC,GAAG,GAAG;AAAEC,QAAAA,GAAG,EAAEL,MAAM,CAACM,MAAP,EAAP;AAAwBC,QAAAA,GAAG,EAAEP,MAAM,CAACQ,MAAP;AAA7B,OAAV,CAXsE,CAatE;;AACA,WAAKC,KAAL,CAAWC,kBAAX,CAA8BN,GAA9B;AAEA,UAAIO,OAAO,GAAG,gBAAgBX,MAAM,CAACM,MAAP,EAAhB,GAAkC,IAAhD;AACAK,MAAAA,OAAO,IAAI,iBAAiBX,MAAM,CAACQ,MAAP,EAAjB,GAAmC,IAA9C;AAEA,UAAII,SAAc,GAAG/B,QAAQ,CAACC,cAAT,CAAwB,aAAxB,CAArB;AACA8B,MAAAA,SAAS,CAACC,SAAV,GAAsBF,OAAtB;AACA,KArBD;AAsBA;;AAEDG,EAAAA,MAAM,GAAG;AACR,wBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC;AACC,MAAA,EAAE,EAAC,KADJ;AAEC,MAAA,KAAK,EAAE;AAAEpB,QAAAA,QAAQ,EAAE,UAAZ;AAAwBqB,QAAAA,KAAK,EAAE,MAA/B;AAAuCC,QAAAA,MAAM,EAAE;AAA/C,OAFR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,eAKC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADD,CALD,eAQC;AAAK,MAAA,EAAE,EAAC,aAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MARD,eASC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MATD,CADD;AAaA;;AA/D0D;;AAkE5D,eAAetC,YAAf","sourcesContent":["import React, { Component } from 'react';\nimport { locationElem } from '../ElemInterface/ElementsInterface';\n// 참고 : https://apis.map.kakao.com/web/sample/addMapClickEventWithMarker/\n// 참고 : https://chaewonkong.github.io/posts/react-kakao-maps.html\n\ndeclare global {\n\tinterface Window {\n\t\tkakao: any;\n\t}\n}\ninterface LarLngPickerProps {\n\thandleLarLngChange: (location: locationElem) => void;\n}\n\nclass LarLngPicker extends Component<LarLngPickerProps, {}> {\n\tcomponentDidMount() {\n\t\tvar mapContainer = document.getElementById('map'); // 지도를 표시할 div\n\t\tvar mapOption = {\n\t\t\tcenter: new window.kakao.maps.LatLng(\n\t\t\t\t37.49575158172499,\n\t\t\t\t126.95633291769067\n\t\t\t), // 지도의 중심좌표\n\t\t\tlevel: 3, // 지도의 확대 레벨\n\t\t};\n\n\t\t// 지도를 생성합니다\n\t\tvar map = new window.kakao.maps.Map(mapContainer, mapOption);\n\n\t\t// 지도를 클릭한 위치에 표출할 마커입니다\n\t\tvar marker = new window.kakao.maps.Marker({\n\t\t\t// 지도 중심좌표에 마커를 생성합니다\n\t\t\tposition: map.getCenter(),\n\t\t});\n\n\t\t// 지도에 마커를 표시합니다\n\t\tmarker.setMap(map);\n\n\t\t// 지도에 클릭 이벤트를 등록합니다\n\t\t// 지도를 클릭하면 마지막 파라미터로 넘어온 함수를 호출합니다\n\t\twindow.kakao.maps.event.addListener(map, 'click', (mouseEvent: any) => {\n\t\t\t// 클릭한 위도, 경도 정보를 가져옵니다\n\t\t\tvar latlng = mouseEvent.latLng;\n\n\t\t\t// 마커 위치를 클릭한 위치로 옮깁니다\n\t\t\tmarker.setPosition(latlng);\n\n\t\t\t// re layout map (bug)\n\t\t\tmap.relayout();\n\n\t\t\t// loc : save latitude and longitude which user pick\n\t\t\tvar loc = { lat: latlng.getLat(), lng: latlng.getLng() };\n\n\t\t\t// send loc to parent component( RegisterNode )\n\t\t\tthis.props.handleLarLngChange(loc);\n\n\t\t\tvar message = 'latitude : ' + latlng.getLat() + ', ';\n\t\t\tmessage += 'longitude : ' + latlng.getLng() + '\\n';\n\n\t\t\tvar resultDiv: any = document.getElementById('clickLatlng');\n\t\t\tresultDiv.innerHTML = message;\n\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div\n\t\t\t\t\tid=\"map\"\n\t\t\t\t\tstyle={{ position: 'relative', width: '100%', height: '350px' }}\n\t\t\t\t></div>\n\t\t\t\t<p>\n\t\t\t\t\t<em>Click map!</em>\n\t\t\t\t</p>\n\t\t\t\t<div id=\"clickLatlng\"></div>\n\t\t\t\t<br />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default LarLngPicker;\n"]},"metadata":{},"sourceType":"module"}