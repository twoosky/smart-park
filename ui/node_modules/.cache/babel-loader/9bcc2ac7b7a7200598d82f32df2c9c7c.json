{"ast":null,"code":"var _jsxFileName = \"/home/haneul/toiot_0219/toiot-1/ui/src/LogicCoreComponents/InputCards/InputActuatorCard.tsx\";\nimport React, { Component } from 'react';\nimport Select from 'react-select';\nimport '../LogicCore.css';\n\n/*\nInputActionCard\n- Get input of action element\n*/\nclass InputActionCard extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      elem: 'actuator',\n      arg: {\n        aid: 0,\n        motion: [{\n          value: 0,\n          sleep: 0\n        }]\n      }\n    };\n\n    this.handleActionChange = async e => {\n      // Change this state and then..\n      await this.setState({\n        arg: {\n          aid: e.id,\n          motion: this.state.arg.motion\n        }\n      });\n      console.log(e.id + '  this is actuator aid');\n      this.props.handleInputActionCardChange(this.state);\n    };\n\n    this.handleControlChange = idx => async e => {\n      const new_motion_elem = this.state.arg.motion.map((motionElem, sidx) => {\n        if (idx !== sidx) return motionElem;\n        if (e.target.id === 'actuator_value') return { ...motionElem,\n          value: parseInt(e.target.value)\n        };\n        return { ...motionElem,\n          sleep: parseInt(e.target.value)\n        };\n      });\n      await this.setState({\n        arg: {\n          aid: this.state.arg.aid,\n          motion: new_motion_elem\n        }\n      });\n      this.props.handleInputActionCardChange(this.state);\n    };\n  }\n\n  /*\n  handleAddClick = async () => {\n  \tawait this.setState({\n  \t\targ: {\n  \t\t\taid: this.state.arg.aid,\n  \t\t\tmotion: [...this.state.arg.motion, {value: 0, sleep: 0}],\n  \t\t},\n  \t});\n  \tthis.props.handleInputActionCardChange(this.state);\n  };\n  \thandleRemoveClick = (idx: number) => async () => {\n  \tawait this.setState({\n  \t\targ: {\n  \t\t\taid: this.state.arg.aid,\n  \t\t\tmotion: this.state.arg.motion.filter(\n  \t\t\t\t(s: any, sidx: number) => idx !== sidx\n  \t\t\t),\n  \t\t},\n  \t});\n  \tthis.props.handleInputActionCardChange(this.state)\n  };\n  */\n  render() {\n    let actuatorOptios;\n    actuatorOptios = this.props.actuatorList.map(val => {\n      return {\n        label: val.name,\n        value: val.name,\n        id: val.id\n      };\n    });\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(Select, {\n      options: actuatorOptios,\n      name: \"action\",\n      classNamePrefix: \"select\",\n      onChange: this.handleActionChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 5\n      }\n    }, this.state.arg.motion.map((Control, idx) => /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 8\n      }\n    }, \"value\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      className: \"form-control\",\n      id: \"actuator_value\",\n      value: Control.value,\n      placeholder: \"Enter \",\n      onChange: this.handleControlChange(idx),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 8\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 8\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 8\n      }\n    }, \"sleep\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      className: \"form-control\",\n      id: \"actuator_sleep\",\n      value: Control.sleep,\n      placeholder: \"Enter \",\n      onChange: this.handleControlChange(idx),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 8\n      }\n    })))));\n  }\n\n}\n\nexport default InputActionCard;","map":{"version":3,"sources":["/home/haneul/toiot_0219/toiot-1/ui/src/LogicCoreComponents/InputCards/InputActuatorCard.tsx"],"names":["React","Component","Select","InputActionCard","state","elem","arg","aid","motion","value","sleep","handleActionChange","e","setState","id","console","log","props","handleInputActionCardChange","handleControlChange","idx","new_motion_elem","map","motionElem","sidx","target","parseInt","render","actuatorOptios","actuatorList","val","label","name","Control"],"mappings":"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","sourcesContent":["import { type } from 'jquery';\nimport React, { Component } from 'react';\nimport Select from 'react-select';\nimport { actuatorListElem, actuatorOptionsElem } from '../../ElemInterface/ElementsInterface';\nimport { control, logicElem } from '../../ElemInterface/LcElementsInterface';\nimport '../LogicCore.css';\n\ninterface InputActionCardProps {\n\tactuatorList: Array<actuatorListElem>;\n\thandleInputActionCardChange: (value: logicElem) => void;\n}\n\ninterface InputActionCardState {\n\telem: string;\n\targ: {\n\t\taid: number;\n\t\tmotion: Array<control>;\n\t};\n}\n\n/*\nInputActionCard\n- Get input of action element\n*/\nclass InputActionCard extends Component<\n\tInputActionCardProps,\n\tInputActionCardState\n> {\n\tstate: InputActionCardState = {\n\t\telem: 'actuator',\n\t\targ: {\n\t\t\t   aid: 0, \n               motion:[{ value: 0, sleep: 0 }] \n            },\n\t};\n\n\t// Handle action change (select alarm or email)\n\thandleActionChange = async (e: any) => {\n\t\t// Change this state and then..\n\t\tawait this.setState({\n\t\t\targ: { aid: e.id, motion: this.state.arg.motion },\n\t\t});\n\t\tconsole.log(e.id + '  this is actuator aid')\n\t\tthis.props.handleInputActionCardChange(this.state);\n\t};\n\n\thandleControlChange = (idx: number) => async (e:any) => {\n\t\tconst new_motion_elem = this.state.arg.motion.map(\n\t\t\t(motionElem: control, sidx: number) => {\n\t\t\t\tif (idx !== sidx) return motionElem;\n\t\t\t\tif (e.target.id === 'actuator_value') \n\t\t\t\t\treturn { ...motionElem, value: parseInt(e.target.value) };\n                return { ...motionElem, sleep: parseInt(e.target.value) };\n                \n\t\t\t}\n\t\t);\n\t\t\n\t\tawait this.setState({\n\t\t\targ: { \n\t\t\t\taid: this.state.arg.aid,\n\t\t\t\tmotion: new_motion_elem\t\n\t\t\t}\n\t\t});\n\n\t\tthis.props.handleInputActionCardChange(this.state);\n\t};\n\t\n\t/*\n\thandleAddClick = async () => {\n\t\tawait this.setState({\n\t\t\targ: {\n\t\t\t\taid: this.state.arg.aid,\n\t\t\t\tmotion: [...this.state.arg.motion, {value: 0, sleep: 0}],\n\t\t\t},\n\t\t});\n\t\tthis.props.handleInputActionCardChange(this.state);\n\t};\n\n\thandleRemoveClick = (idx: number) => async () => {\n\t\tawait this.setState({\n\t\t\targ: {\n\t\t\t\taid: this.state.arg.aid,\n\t\t\t\tmotion: this.state.arg.motion.filter(\n\t\t\t\t\t(s: any, sidx: number) => idx !== sidx\n\t\t\t\t),\n\t\t\t},\n\t\t});\n\t\tthis.props.handleInputActionCardChange(this.state)\n\t};\n\t*/\n\n\trender() {\t\t\n\t\tlet actuatorOptios: Array<actuatorOptionsElem>;\n\t\tactuatorOptios = this.props.actuatorList.map((val: actuatorListElem) => {\n\t\t\treturn {\n\t\t\t\tlabel: val.name,\n\t\t\t\tvalue: val.name,\n\t\t\t\tid: val.id,\n\t\t\t}\n\t\t})\n\n\t\treturn (\n\t\t\t<div>\t\t\t\t\t\t\n\t\t\t\t<Select\n\t\t\t\t\toptions={actuatorOptios}\n\t\t\t\t\tname=\"action\"\n\t\t\t\t\tclassNamePrefix=\"select\"\n\t\t\t\t\tonChange={this.handleActionChange}         \n\t\t\t\t/>\n\t\t\t\t{/*\n\t\t\t\t<div className=\"col\">\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tclassName=\"btn float-right\"\n\t\t\t\t\t\tstyle={{ background: 'pink' }}\n\t\t\t\t\t\tonClick={this.handleAddClick}\n\t\t\t\t\t>\n\t\t\t\t\t\tAdd scope\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t\t*/}\n\t\t\t\t<div>\n\t\t\t\t\t{this.state.arg.motion.map((Control: control, idx: number) => (\n\t\t\t\t\t\t<div className=\"input-group mb-2\">\n\t\t\t\t\t\t\t<span>value</span>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tid=\"actuator_value\"\n\t\t\t\t\t\t\t\tvalue={Control.value}\n\t\t\t\t\t\t\t\tplaceholder=\"Enter \"\n\t\t\t\t\t\t\t\tonChange={this.handleControlChange(idx)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<div className=\"col-1\"></div>\n\t\t\t\t\t\t\t<span>sleep</span>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tid=\"actuator_sleep\"\n\t\t\t\t\t\t\t\tvalue={Control.sleep}\n\t\t\t\t\t\t\t\tplaceholder=\"Enter \"\n\t\t\t\t\t\t\t\tonChange={this.handleControlChange(idx)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{/*\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName=\"btn btn-sm\"\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tid=\"button-addon2\"\n\t\t\t\t\t\t\t\tonClick={this.handleRemoveClick(idx)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\twidth=\"1em\"\n\t\t\t\t\t\t\t\t\theight=\"1em\"\n\t\t\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\n\t\t\t\t\t\t\t\t\tclassName=\"bi bi-trash-fill\"\n\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t\td=\"M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5a.5.5 0 0 0-1 0v7a.5.5 0 0 0 1 0v-7z\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t*/}\n\t\t\t\t\t\t</div>\t\n\t\t\t\t\t))}\t\t\t\t\t\t\t\t\n\t\t\t\t</div>                                          \t\t\t\t\t\t\t\t\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default InputActionCard;\n"]},"metadata":{},"sourceType":"module"}