{"ast":null,"code":"var _jsxFileName = \"/home/haneul/toiot_0219/toiot-1/ui/src/LogicCoreComponents/InputCards/InputActionCard.tsx\";\nimport React, { Component } from 'react';\nimport Select from 'react-select';\nimport '../LogicCore.css';\n\n/*\nInputActionCard\n- Get input of action element\n*/\nclass InputActionCard extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      elem: '',\n      arg: {\n        text: '',\n        elem: '',\n        motion: [{\n          value: 0,\n          sleep: 0\n        }]\n      }\n    };\n\n    this.handleActionChange = async e => {\n      // Change this state and then..\n      if (e.value === 'motor' || e.value === 'switch') {\n        await this.setState({\n          arg: {\n            text: this.state.arg.text,\n            elem: e.value,\n            motion: this.state.arg.motion\n          }\n        });\n      } else {\n        await this.setState({\n          elem: e.value\n        }); // change parent's state\n      }\n\n      this.props.handleInputActionCardChange(this.state);\n    };\n\n    this.handleTextChange = async e => {\n      if (e.target.id === 'alarm_msg' || e.target.id === 'email') {\n        await this.setState({\n          arg: {\n            text: e.target.value,\n            elem: this.state.arg.elem,\n            motion: this.state.arg.motion\n          }\n        });\n      }\n\n      this.props.handleInputActionCardChange(this.state);\n    };\n\n    this.handleControlChange = idx => async e => {\n      const new_motion_elem = this.state.arg.motion.map((motionElem, sidx) => {\n        if (idx !== sidx) return motionElem;\n        if (e.target.id === 'actuator_value') return { ...motionElem,\n          value: parseInt(e.target.value)\n        };\n        return { ...motionElem,\n          sleep: parseInt(e.target.sleep)\n        };\n      });\n      await this.setState({\n        arg: {\n          text: this.state.arg.text,\n          elem: this.state.arg.elem,\n          motion: new_motion_elem\n        }\n      });\n      this.props.handleInputActionCardChange(this.state);\n    };\n\n    this.handleAddClick = async () => {\n      await this.setState({\n        arg: {\n          text: this.state.arg.text,\n          elem: this.state.arg.elem,\n          motion: [...this.state.arg.motion, {\n            value: 0,\n            sleep: 0\n          }]\n        }\n      });\n      this.props.handleInputActionCardChange(this.state);\n    };\n\n    this.handleRemoveClick = idx => async () => {\n      await this.setState({\n        arg: {\n          text: this.state.arg.text,\n          elem: this.state.arg.elem,\n          motion: this.state.arg.motion.filter((s, sidx) => idx !== sidx)\n        }\n      });\n      this.props.handleInputActionCardChange(this.state);\n    };\n  }\n\n  render() {\n    let actionOptions = [{\n      label: 'alarm',\n      value: 'alarm'\n    }, {\n      label: 'email',\n      value: 'email'\n    }, {\n      label: 'actuator',\n      value: 'actuator'\n    }];\n    let actuatorOptios = [{\n      label: 'motor',\n      value: 'motor'\n    }, {\n      label: 'switch',\n      value: 'switch'\n    }];\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-body row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \" col-2 right-divider\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        fontSize: '18pt',\n        fontWeight: 500\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 7\n      }\n    }, \"action #\", this.props.index), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-sm float-right\",\n      type: \"button\",\n      id: \"button-addon2\",\n      onClick: this.props.handleRemoveInputActionCardClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"svg\", {\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 16 16\",\n      className: \"bi bi-trash-fill\",\n      fill: \"currentColor\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"path\", {\n      \"fill-rule\": \"evenodd\",\n      d: \"M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5a.5.5 0 0 0-1 0v7a.5.5 0 0 0 1 0v-7z\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 9\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(Select, {\n      options: actionOptions,\n      name: \"action\",\n      classNamePrefix: \"select\",\n      onChange: this.handleActionChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 7\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 6\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 7\n      }\n    }, this.state.elem === 'alarm' ?\n    /*#__PURE__*/\n    // If user select alarm\n    React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }\n    }, \"Alarm MSG\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      name: \"alarm_msg\",\n      value: this.state.arg.text,\n      placeholder: \"Enter alarm msg which you want to get alert\",\n      onChange: this.handleTextChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }\n    })) : this.state.elem === 'email' ?\n    /*#__PURE__*/\n    // If user select email\n    React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 9\n      }\n    }, \"Email address\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"email\",\n      className: \"form-control\",\n      id: \"email\",\n      value: this.state.arg.text,\n      \"aria-describedby\": \"emailHelp\",\n      placeholder: \"toiot@example.com\",\n      onChange: this.handleTextChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"small\", {\n      id: \"emailHelp\",\n      className: \"form-text text-muted\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 9\n      }\n    }, \"We'll send message to this e-mail.\")) : this.state.elem === 'actuator' ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(Select, {\n      options: actuatorOptios,\n      name: \"action\",\n      classNamePrefix: \"select\",\n      onChange: this.handleActionChange // e.value === motor || e.value === switch ? argÏùò elem update \n      ,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 8\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn float-right\",\n      style: {\n        background: 'pink'\n      },\n      onClick: this.handleAddClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 9\n      }\n    }, \"Add scope\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 8\n      }\n    }, this.state.arg.motion.map((Control, idx) => /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 11\n      }\n    }, \"value\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      className: \"form-control\",\n      id: \"actuator_value\",\n      value: Control.value,\n      placeholder: \"Enter \",\n      onChange: this.handleControlChange(idx),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 11\n      }\n    }, \"sleep\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      className: \"form-control\",\n      id: \"actuator_sleep\",\n      value: Control.sleep,\n      placeholder: \"Enter \",\n      onChange: this.handleControlChange(idx),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-sm\",\n      type: \"button\",\n      id: \"button-addon2\",\n      onClick: this.handleRemoveClick(idx),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 3\n      }\n    }, /*#__PURE__*/React.createElement(\"svg\", {\n      width: \"1em\",\n      height: \"1em\",\n      viewBox: \"0 0 16 16\",\n      className: \"bi bi-trash-fill\",\n      fill: \"currentColor\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 12\n      }\n    }, /*#__PURE__*/React.createElement(\"path\", {\n      \"fill-rule\": \"evenodd\",\n      d: \"M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5a.5.5 0 0 0-1 0v7a.5.5 0 0 0 1 0v-7z\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 13\n      }\n    }))))))) : /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 8\n      }\n    }))));\n  }\n\n}\n\nexport default InputActionCard;","map":{"version":3,"sources":["/home/haneul/toiot_0219/toiot-1/ui/src/LogicCoreComponents/InputCards/InputActionCard.tsx"],"names":["React","Component","Select","InputActionCard","state","elem","arg","text","motion","value","sleep","handleActionChange","e","setState","props","handleInputActionCardChange","handleTextChange","target","id","handleControlChange","idx","new_motion_elem","map","motionElem","sidx","parseInt","handleAddClick","handleRemoveClick","filter","s","render","actionOptions","label","actuatorOptios","fontSize","fontWeight","index","handleRemoveInputActionCardClick","background","Control"],"mappings":"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","sourcesContent":["import { type } from 'jquery';\nimport React, { Component } from 'react';\nimport Select from 'react-select';\nimport { control, logicElem } from '../../ElemInterface/LcElementsInterface';\nimport '../LogicCore.css';\n\ninterface InputActionCardProps {\n\thandleInputActionCardChange: (value: logicElem) => void;\n\thandleRemoveInputActionCardClick: () => void;\n\tindex: number;\n}\n\ninterface InputActionCardState {\n\telem: string;\n\targ: {\n\t\ttext: string;\n\t\telem: string;\n\t\tmotion: Array<control>;\n\t};\n}\ninterface actionOptionsElem {\n\tlabel: string;\n\tvalue: string;\n}\n\n/*\nInputActionCard\n- Get input of action element\n*/\nclass InputActionCard extends Component<\n\tInputActionCardProps,\n\tInputActionCardState\n> {\n\tstate: InputActionCardState = {\n\t\telem: '',\n\t\targ: { text: '', \n\t\t\t   elem: '', \n\t\t\t   motion:[{ value: 0, sleep: 0 }] },\n\t};\n\n\t// Handle action change (select alarm or email)\n\thandleActionChange = async (e: any) => {\n\t\t// Change this state and then..\n\t\tif (e.value === 'motor' || e.value === 'switch') {\n\t\t\tawait this.setState({\n\t\t\t\targ: {\n\t\t\t\t\ttext: this.state.arg.text, \n\t\t\t\t\telem: e.value,\n\t\t\t\t\tmotion: this.state.arg.motion,\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\telse {\n\t\t\tawait this.setState({\n\t\t\t\telem: e.value,\n\t\t\t});\n\t\t\t// change parent's state\n\t\t}\n\t\tthis.props.handleInputActionCardChange(this.state);\n\t};\n\n\t// Handle text change by typing\n\thandleTextChange = async (e: React.ChangeEvent<HTMLInputElement>) => {\n\t\tif (e.target.id === 'alarm_msg' || e.target.id === 'email') {\n\t\t\tawait this.setState({\n\t\t\t\targ: { \n\t\t\t\t\ttext: e.target.value, \n\t\t\t\t\telem: this.state.arg.elem,\n\t\t\t\t\tmotion: this.state.arg.motion,\n\t\t\t\t},\n\t\t\t});\n\t\t}\t\n\t\tthis.props.handleInputActionCardChange(this.state);\n\t};\n\n\thandleControlChange = (idx: number) => async (e:any) => {\n\t\tconst new_motion_elem = this.state.arg.motion.map(\n\t\t\t(motionElem: control, sidx: number) => {\n\t\t\t\tif (idx !== sidx) return motionElem;\n\t\t\t\tif (e.target.id === 'actuator_value') \n\t\t\t\t\treturn { ...motionElem, value: parseInt(e.target.value) };\n\t\t\t\treturn { ...motionElem, sleep: parseInt(e.target.sleep) };\n\t\t\t}\n\t\t);\n\t\t\t\n\t\tawait this.setState({\n\t\t\targ: { \n\t\t\t\ttext: this.state.arg.text,\n\t\t\t\telem: this.state.arg.elem,\n\t\t\t\tmotion: new_motion_elem\t\n\t\t\t}\n\t\t});\n\n\t\tthis.props.handleInputActionCardChange(this.state);\n\t};\n\t\n\thandleAddClick = async () => {\n\t\tawait this.setState({\n\t\t\targ: {\n\t\t\t\ttext: this.state.arg.text, \n\t\t\t\telem: this.state.arg.elem,\n\t\t\t\tmotion: [...this.state.arg.motion, { value: 0, sleep: 0}],\n\t\t\t},\n\t\t});\n\t\tthis.props.handleInputActionCardChange(this.state);\n\t};\n\n\thandleRemoveClick = (idx: number) => async () => {\n\t\tawait this.setState({\n\t\t\targ: {\n\t\t\t\ttext: this.state.arg.text,\n\t\t\t\telem: this.state.arg.elem,\n\t\t\t\tmotion: this.state.arg.motion.filter(\n\t\t\t\t\t(s: any, sidx: number) => idx !== sidx\n\t\t\t\t),\n\t\t\t},\n\t\t});\n\t\tthis.props.handleInputActionCardChange(this.state)\n\t};\n\n\trender() {\n\t\tlet actionOptions: Array<actionOptionsElem> = [\n\t\t\t{ label: 'alarm', value: 'alarm' },\n\t\t\t{ label: 'email', value: 'email' },\n\t\t\t{ label: 'actuator', value: 'actuator'},\n\t\t];\n\n\t\tlet actuatorOptios: Array<actionOptionsElem> = [\n\t\t\t{ label: 'motor', value: 'motor'},\n\t\t\t{ label: 'switch', value: 'switch'},\n\t\t]\n\t\treturn (\n\t\t\t<div className=\"card form-group\">\n\t\t\t\t<div className=\"card-body row\">\n\t\t\t\t\t<div className=\" col-2 right-divider\">\n\t\t\t\t\t\t<span style={{ fontSize: '18pt', fontWeight: 500 }}>\n\t\t\t\t\t\t\taction #{this.props.index}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName=\"btn btn-sm float-right\"\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tid=\"button-addon2\"\n\t\t\t\t\t\t\tonClick={this.props.handleRemoveInputActionCardClick}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\twidth=\"1em\"\n\t\t\t\t\t\t\t\theight=\"1em\"\n\t\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\n\t\t\t\t\t\t\t\tclassName=\"bi bi-trash-fill\"\n\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\t\t\t\t\td=\"M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5a.5.5 0 0 0-1 0v7a.5.5 0 0 0 1 0v-7z\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"col-3\">\n\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\toptions={actionOptions}\n\t\t\t\t\t\t\tname=\"action\"\n\t\t\t\t\t\t\tclassNamePrefix=\"select\"\n\t\t\t\t\t\t\tonChange={this.handleActionChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"col-1\"></div>\n\t\t\t\t\t\t<div className=\"col-5\">\n\t\t\t\t\t\t{this.state.elem === 'alarm' ? ( // If user select alarm\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<span>Alarm MSG</span>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\tname=\"alarm_msg\"\n\t\t\t\t\t\t\t\t\tvalue={this.state.arg.text}\n\t\t\t\t\t\t\t\t\tplaceholder=\"Enter alarm msg which you want to get alert\"\n\t\t\t\t\t\t\t\t\tonChange={this.handleTextChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\t\n\t\t\t\t\t\t) : this.state.elem === 'email' ? ( // If user select email\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<span>Email address</span>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\tid=\"email\"\n\t\t\t\t\t\t\t\t\tvalue={this.state.arg.text}\n\t\t\t\t\t\t\t\t\taria-describedby=\"emailHelp\"\n\t\t\t\t\t\t\t\t\tplaceholder=\"toiot@example.com\"\n\t\t\t\t\t\t\t\t\tonChange={this.handleTextChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<small id=\"emailHelp\" className=\"form-text text-muted\">\n\t\t\t\t\t\t\t\t\tWe'll send message to this e-mail.\n\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) : this.state.elem === 'actuator' ? (\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\t\toptions={actuatorOptios}\n\t\t\t\t\t\t\t\t\tname=\"action\"\n\t\t\t\t\t\t\t\t\tclassNamePrefix=\"select\"\n\t\t\t\t\t\t\t\t\tonChange={this.handleActionChange}          // e.value === motor || e.value === switch ? argÏùò elem update \n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<div className=\"col-1\"></div>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<div className=\"col\">\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\tclassName=\"btn float-right\"\n\t\t\t\t\t\t\t\t\tstyle={{ background: 'pink' }}\n\t\t\t\t\t\t\t\t\tonClick={this.handleAddClick}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tAdd scope\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"col\">\n\t\t\t\t\t\t\t\t{this.state.arg.motion.map((Control: control, idx: number) => (\n\t\t\t\t\t\t\t\t\t<div className=\"input-group mb-2\">\n\t\t\t\t\t\t\t\t\t\t<span>value</span>\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\t\t\tid=\"actuator_value\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={Control.value}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Enter \"\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleControlChange(idx)}\n\t\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-1\"></div>\n\t\t\t\t\t\t\t\t\t\t<span>sleep</span>\n\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\t\t\tid=\"actuator_sleep\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={Control.sleep}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Enter \"\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleControlChange(idx)}\n\t\t\t\t\t\t\t\t\t\t/>\n\n\t\t<\t\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-sm\"\n\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\tid=\"button-addon2\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={this.handleRemoveClick(idx)}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\t\twidth=\"1em\"\n\t\t\t\t\t\t\t\t\t\t\t\theight=\"1em\"\n\t\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 16 16\"\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"bi bi-trash-fill\"\n\t\t\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\t\t\t\tfill-rule=\"evenodd\"\n\t\t\t\t\t\t\t\t\t\t\t\t\td=\"M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5a.5.5 0 0 0-1 0v7a.5.5 0 0 0 1 0v-7z\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</div>                                          \t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<div></div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default InputActionCard;\n"]},"metadata":{},"sourceType":"module"}